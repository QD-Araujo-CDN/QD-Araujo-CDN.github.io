var _QD_cdn_check=true;try{$(function(){if(!$(document.body).is(".product-colors"))return;var listWrapper=$(".product-sku-rich-selection .skuList, .product-qd-v1-sku-rich-selection .skuList, .product__skus .skuList");var prepareElement=function(){listWrapper.addClass("skuListColors").hide();listWrapper.find(".buy-button").closest("div").removeClass("col-xs-8").addClass("button-wrapper");listWrapper.find(".buy-button").addClass("col-xs-20");listWrapper.find(".qd-sku-qtt-wrap").removeClass("col-xs-3");listWrapper.addClass("skuListColors").hide();if(window.location.href.indexOf("idsku")<0)var selectedElem=listWrapper.first().click();else{var sku=window.location.href.match(/idsku=\d+/i)[0];var selectedElem=$('a[href*="'+sku.replace("idsku","sku")+'"]').length?$('a[href*="'+sku.replace("idsku","sku")+'"]').closest(".skuList").click():$('input[value="'+sku.replace("idsku=","")+'"]').closest(".skuList").click()}selectElement(selectedElem)};var elementAssembler=function(skus){var colorsWrapper=$(".product-qd-v2-sku-colors-selection ul");var colorClass="";for(i=0;i<skus.length;i++){colorClass="qd-sku-color-"+skus[i].sku;colorClass+=skus[i].available?"":" color-unavaliable";colorsWrapper.append($("<li></li>").addClass(colorClass).attr("title",skus[i].skuname))}};var getSkuJsonAttr=function(skuId,attr){var ret="";for(i=0;i<skuJson.skus.length;i++){if(skuJson.skus[i].sku==skuId){ret=attr?skuJson.skus[i][attr]:skuJson.skus[i];break}}return ret};var selectElement=function(liElem){listWrapper.hide();$(".product-qd-v2-sku-colors-selection li.active").removeClass("active");liElem.show();var sku=liElem.find(".buy-button").length?liElem.find(".buy-button").attr("href").match(/sku=\d+/i)[0]:"sku="+liElem.find("input.sku-notifyme-skuid").val();$(".product__name .productName").text(getSkuJsonAttr(sku.split("=")[1],"skuname"));$(".product__price .skuBestPrice").html(liElem.find(".preco .valor-por > strong").html()||"");$("li."+sku.replace("sku","qd-sku-color-").replace("=","")).addClass("active")};var elementClick=function(event){var elemClass=!event.srcElement?$(event.target).attr("class"):$(event.srcElement).attr("class");var sku=elemClass.match(/qd-sku-color-\d+/i);if(!sku.length)return;var skuClass=sku.pop().replace("qd-sku-color-","sku");var selectedElem=$('a[href*="'+skuClass.replace("sku","sku=")+'"]').length?$('a[href*="'+skuClass.replace("sku","sku=")+'"]').closest(".skuList").click():$('input[value="'+skuClass.replace("sku","")+'"]').closest(".skuList").click();$(".btn-more-sku").click();console.log("selectedElem",selectedElem);var skuVal=skuClass.replace("sku","");var colorWrapper=$('[data-sku="'+skuVal+'"]');if(!colorWrapper.length){console.log("n√£o");var imgLink=selectedElem.find(".imageSku img").attr("src").replace(/(ids\/[0-9]+)[0-9-]+/i,"$1-469-469");$(".product__image #include a").attr("href",imgLink);$(".product__image #include img").attr("src",imgLink);if($(".product__buyButton .buy-button").length)$(".product__buyButton .buy-button").attr("href",$(".product__buyButton .buy-button").attr("href").replace(/sku=[0-9]+/i,"sku="+skuVal))}else{console.log("sim");colorWrapper.find('input[name="skuOption"]').click()}selectElement(selectedElem)};elementAssembler(skuJson.skus);prepareElement();$(".product-qd-v2-sku-colors-selection li").on("click",elementClick)})}catch(e){typeof console!=="undefined"&&typeof console.error==="function"&&console.error("Houve um erro nos objetos. Detalhes: "+e.message)}