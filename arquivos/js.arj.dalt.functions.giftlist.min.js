var _QD_giftlist_cdn_check=!0,List={run:function(){List.readyListRedirectAddNoRedirect();List.postRDStation()},init:function(){List.readyListRedirect();List.giftlistClone();List.giftListInviteSelectModel();List.giftListInviteTextFill();List.giftListInviteLinkFill();List.giftListCreateUrlListName();List.inviteGetLists();List.inviteSendEmail();List.giftListManageBtnEdit();List.giftListChangeIdURL();List.giftListBtnGiftCustom();List.giftListShelfBuyButton();List.giftListShelfRedirectManage();List.giftListCreateToolsTipsInsert();
List.changeReadyListTitle();Product.insertSkuModalCustomize();List.giftlistReadySetId();List.paginationStartFix();List.hideSearchNavigator();List.addLinkBeforeSidebar();List.readyListRemoveLinks();List.qdMobileListSearchMenu();List.insertLidListLinks();List.giftlistReadySetProductName();List.giftlistCreteRemoveListTypes();List.changeTagHtmlSeachNavigator();List.formEnhancedValidation();List.togglePopupGiftList();-1<location.pathname.toLowerCase().indexOf("/giftlist/product")&&(List.getGiftListBalance(),
List.getGiftBalance());List.getGiftListCreateModalOpen()},ajaxStop:function(){List.readyListRemoveLinks();List.giftlistReadySetProductName();-1<location.pathname.toLowerCase().indexOf("/giftlist/product")&&List.addValueTotalGift()},windowOnload:function(){},togglePopupGiftList:function(){$(".giftlist-popup-qd-v1-title").click(function(){$(".giftlist-popup-qd-v1").toggleClass("popup-on")})},changeTagHtmlSeachNavigator:function(){$(".search-single-navigator h3").each(function(){var a=$(this);a.replaceWith("<h1>"+
a.html()+"</h1>")})},postRDStation:function(){if(-1<location.pathname.indexOf("/giftlist/create")||-1<location.hash.indexOf("readylist=1")){var a="Clicou no CTA - Criar sua lista";-1<location.hash.indexOf("readylist=1")&&(a="Clicou no CTA - Listas prontas");$.qdAjax({url:"/no-cache/profileSystem/getProfile",dataType:"json",clearQueueDelay:null,success:function(b){$.getScript("//d335luupugsy2.cloudfront.net/js/integration/stable/rd-js-integration.min.js",function(){RdIntegration.post([{name:"email",
value:b.Email},{name:"identificador",value:a},{name:"nome",value:(b.FirstName||b.Email)+" "+(b.LastName||"")},{name:"token_rdstation",value:"19afe9cd6a66d4578bcc6b174a4d186a"}])})}})}},giftlistCreteRemoveListTypes:function(){$(document.body).is(".giftlist-create")&&Product.removeGiftlistTypes($("#giftlisttype"))},giftlistReadySetProductName:function(){$(document.body).is(".giftlist-shelf-list")&&$(".buy-sku-name").each(function(){var a=$(this);a.closest("li[layout]").find(".shelf-common-product-name a").text(a.text().trim())})},
insertLidListLinks:function(){if($(document.body).is(".giftlist-shelf-list")){var a=(location.search.match(/lid=[^&]+/i)||[""]).pop();a.length&&$(".navigation a").each(function(){this.search+="&"+a})}},qdMobileListSearchMenu:function(){$(".search-qd-v1-navigator-btn").click(function(){$("body").toggleClass("qd-sam-on")});$(".search-qd-v1-navigator-close").click(function(){$("body").removeClass("qd-sam-on")});$(document.body).on("swipeleft",function(a,b){$(document.body).removeClass("qd-sam-on")})},
addLinkBeforeSidebar:function(){var a=$('<a class="gf-shelf-back-link" href="'+location.href+'"><i class="fa fa-reply-all"></i> Ver lista completa</a>');a[0].pathname="/list/"+location.pathname.split("/")[2];$(".gf-shelf-navigator").prepend(a);$(".search-qd-v1-navigator-title").after(a)},readyListRedirectAddNoRedirect:function(){$.qdAjax({url:"/no-cache/profileSystem/getProfile",dataType:"json",clearQueueDelay:null,success:function(a){a.IsUserDefined&&$(function(){var a=$(".glmanager-type");a.find("li.action-view a").each(function(){this.search=
"redirect=false&"+this.search.replace("?","")});a.find("li.action-manage a").each(function(){this.search="redirect=false&"+this.search.replace("?","");this.protocol="https:"})})}})},readyListRedirect:function(){var a=location.search||"",b=location.href||"";if(!(-1<a.indexOf("lid=")||-1<a.indexOf("redirect=false")||-1<b.indexOf("_secure/giftlist/product"))){b=$(".giftlistinfo-members").clone();b.find("span").remove();a="lista"==b.find(".surname").text().trim().toLowerCase();b="drogaria araujo"==b.find(".name").text().trim().toLowerCase();
var c="lista pronta"==$(".giftlistinfo-title").text().trim().toLowerCase();a&&b&&c&&(location.href="/giftlist/ready-list")}},hideSearchNavigator:function(){var a=$(".search-single-navigator h5");a.click(function(){$(this).toggleClass("qd-active").next().slideToggle()});a.find("+ul .filtro-ativo +a").each(function(){var a=$(this);a.is(".ver-filtros")&&(a.parent().prev().addClass("qd-active"),a.parent().slideDown().addClass("qd-active"))})},readyListRemoveLinks:function(){$(document.body).is(".giftlist-shelf-list")&&
$("li[layout] a").removeAttr("href")},giftListCreateToolsTipsInsert:function(){var a=$("#giftlistform"),b=[];b[0]=a.find("#giftlisttype");b[1]=a.find("#giftlistname");b[2]=a.find("#giftlisturl");b[3]=a.find("#giftlistmessage");b[4]=a.find("#giftlisteventdate");b[5]=a.find("#giftlisteventlocation");b[6]=a.find("#giftlisteventcity");b[7]=a.find("#membertitle1");b[8]=a.find("#membername1");b[9]=a.find("#membersurname1");b[10]=a.find("#membermail1");b[11]=a.find("");b[12]=a.find(".address-component h2");
$(".gf-create-toolstips .gf-qd-v1-toolstips-text").each(function(a,d){$(b[a]).after($(d));$(b[a]).after('<span class="gf-qd-v1-toolstips-btn-active-'+[a]+'"></span>')});$('[class*="gf-qd-v1-toolstips-btn-active"]').hover(function(){$(this).find("+ .gf-qd-v1-toolstips-text").show()},function(){$(this).find("+ .gf-qd-v1-toolstips-text").hide()})},paginationStartFix:function(){var a;for(a in window)if(0==a.indexOf("PageClick_")){var b=a;break}var c=(window.location.hash||"").replace("#",""),d=0<$(".btn-clone-list").length,
f=window[b];window[b]=function(a){parseInt(a||"-",10)&&(f.apply(this,arguments),d&&c.length&&(window.location.hash=c))}},getGiftListCreateModalOpen:function(){if(!(0>location.pathname.toLowerCase().indexOf("/giftlist/manage")||!$(document.body).is(".giftlist-manage")||0>document.referrer.indexOf("/giftlist/create"))){var a=(location.search.match(/new=([0-9]+)/i)||[""]).pop(),b=$(".modal");a='<div class="row"> <div class="col-xs-28 col-xs-offset-1"> <div class="row"> <div class="col-xs-30 col-sm-10"> <div class="giftlist-qd-v1-modal-after-creation-img"> <img class="center-block" src="/arquivos/giftlist-qd-v1-modal-after-creation-img-1.png" alt=""/> </div></div><div class="col-xs-30 col-sm-20"> <div class="giftlist-qd-v1-modal-after-creation-title"> <h3>Sua lista foi criada com sucesso!</h3> <span>O que fazer agora?</span> </div></div></div><div class="row"> <div class="col-xs-30 col-sm-13"> <div class="giftlist-qd-v1-modal-after-creation-btn-content"> <a href="/" class="link-return"><i class="fa fa-chevron-left"></i>ESCOLHER PRODUTOS NA LOJA</a> <p>Navegue entre os produtos e clique em \u201cAdicione \u00e0 sua lista\u201d.</p></div></div><div class="col-xs-30 col-sm-4"> <div class="giftlist-qd-v1-modal-after-creation-btn-content"> <p class="giftlist-qd-v1-modal-after-creation-btn-content-middle-text">ou</p></div></div><div class="col-xs-30 col-sm-13"> <div class="giftlist-qd-v1-modal-after-creation-btn-content"> <a href="/giftlist/ready-list?qdlistid='+
a+'" class="link-ready-list">Usar lista pronta<i class="fa fa-chevron-right"></i></a> <p>Utilize uma de nossas listas prontas.</p></div></div></div></div></div>';b.addClass("giftlist-qd-v1-modal-after-creation");b.find(".modal-body").html(a);b.modal({backdrop:"static"})}},giftListShelfRedirectManage:function(){if($(document.body).is(".giftlist-shelf-list")){var a=$.bbq.getState("qdlistid"),b=window.ShowInsertedSuccess;window.ShowInsertedSuccess=function(){b.apply(this,arguments);$("#TB_window .glis-edit-link").text("Redirecionando para o gerenciamento de lista...").prepend('<i class="fa fa-spinner fa-spin margin-r-xs "></i>');
setTimeout(function(){window.location=a?"/giftlist/manage":"/giftlist/product?"+(($("#TB_window .glis-edit-link").attr("href")||"").match(/(\?)?(&)?(id=[0-9]*)/i)||[""]).pop()+"&redirect=false"},2E3)}}},addValueTotalGift:function(){var a=$(".gf-product-statitics:not(.qd-on)").addClass("qd-on");a.length&&(a=$('<table class="glstat-table"><thead></thead><tbody></tbody></table>').insertAfter(a.find(".glstat-table")),a.find("thead").append('<th class="glstat-table-vale">Valor total das compras</th><th class="glstat-table-gift-balance">Saldo do seu vale</th>'),
a.find("tbody").append('<td class="glstat-table-vale">'+(List.giftListBalance||"---")+'</td><td class="glstat-table-gift-balance">'+(List.giftBalance||"---")+"</td>"))},giftListShelfBuyButton:function(){$(document.body).is(".giftlist-shelf")&&$(".header-simple-cart").QD_buyButton({buyButton:".shelf-common-buy-button .qd-buybutton-2 a"})},giftListBtnGiftCustom:function(){$(document.body).is(".giftlist-manage")&&$(".glmanager-actions").each(function(){var a=$(this);a.find(".action-share").length&&a.append('<li class="action-manage"><a href="/giftlist/invite" title="Convites Personalizados">Convites Personalizados</a></li>')});
$(document.body).is(".giftlist-shelf, .giftlist-product")&&($(".giftlistinfo-link").length?$(".admin-only").length&&$(".list-action").append('<li class="action-manage"><a href="/giftlist/invite" title="Convites Personalizados">Convites Personalizados</a></li>'):$(".action-share").hide())},giftListChangeIdURL:function(){if($(document.body).is(".giftlist-shelf")){var a=$(".GiftListInfoV2 .list-action .action-manage a");a.length&&a.attr("href",a.attr("href").replace(/Id=/g,"id="))}},giftListManageBtnEdit:function(){$(document.body).is(".giftlist-product")&&
$(".GiftListInfoV2  .giftlistinfo-image").append('<a class="btn-link-edit" href="/giftlist/edit?id='+location.search.replace(/(\?)?(&)?id=/g,"")+'">Editar Foto</a>')},giftListCreateUrlListName:function(){var a=$(".gf-search-create");a.length&&a.find("#giftlistname").keyup(function(){a.find("#giftlisturl").val($(this).val().replace(/[^a-z0-9]/ig,""))})},giftlistClone:function(){$(".btn-clone-list").click(function(){0<$(".glis-popup-link").length?($(".glis-sku-listtolist .glis-listtolist-checkbox").attr("checked",
!0).click(),$(".glis-popup-link").click()):$(window.document.location).attr("href",$(".glis-link.must-login").attr("href"))})},giftListInviteSelectModel:function(){var a=$(".gf-invite-block-2-choose-invitation"),b=$(".gf-invite-block-3-models-invite");a.find(".gf-invite-img-model img").click(function(){var c=$(this);a.find(".gf-invite-img-model").removeClass("active-model");c.parent().addClass("active-model");b.find("> div").removeClass("active-model");b.find("."+c.attr("data-invite-model")).addClass("active-model")})},
giftListInviteTextFill:function(){var a=$(".gf-invite-block-3-models-invite .text-user"),b=a.find("p");b.html("Ol\u00e1, \n \nNosso beb\u00ea ainda nem chegou mas j\u00e1 est\u00e1 cativando nossos cora\u00e7\u00f5es. Por isso, voc\u00ea est\u00e1 convidado para um momento superespecial: o nosso Ch\u00e1 de Beb\u00ea. \n \nContamos com a sua participa\u00e7\u00e3o.".replace(/\n/g,"<br />"));$('.gf-invite-block-3-form [name="text_list"]').val("Ol\u00e1, \n \nNosso beb\u00ea ainda nem chegou mas j\u00e1 est\u00e1 cativando nossos cora\u00e7\u00f5es. Por isso, voc\u00ea est\u00e1 convidado para um momento superespecial: o nosso Ch\u00e1 de Beb\u00ea. \n \nContamos com a sua participa\u00e7\u00e3o.").keyup(function(){b.html($(this).val().replace(/\n/g,
"<br />"))});var c=a.find("a");$(".qd-invite-lists").on("change",".list-link",function(){var a=$(this).val()||"";""!=a&&c.attr("href",a).text(a)})},giftListInviteLinkFill:function(){var a=$(".gf-invite-block-3-models-invite .text-user a");$(".gf-invite-block-3-form").find('[name="link_list"]').keyup(function(){a.html($(this).val());a.attr("href","//"+$(this).val())})},inviteGetLists:function(){if($(document.body).is(".giftlist-invite")){var a=$(".qd-invite-lists");$.ajax({url:"/giftlist/manage",dataType:"html",
success:function(b){b=$(b).find(".giftlistmanager .action-share").siblings(".action-view");var c=$('<select name="list-link" class="list-link"><option value="">Selecione</option></select>');b.each(function(){var a=$(this).getParent("tr"),b=a.find(".giftlist-body-name a");c.append('<option value="http://www.araujo.com.br'+b.attr("href")+'" data-qd-list-id="'+a.find(".giftlist-body-id").text().trim()+'">'+b.text()+"</option>")});b.length?a.html(c):a.html('<p class="text-danger bg-danger"><i class="fa fa-exclamation-triangle"></i> Voc\u00ea ainda n\u00e3o possui nenhuma lista ou nenhuma delas esta p\u00fablica. Por favor crie uma <a href="/giftlist/create">clicando aqui</a>.</p>')},
error:function(){a.html('<p class="text-danger bg-danger"><i class="fa fa-exclamation-triangle"></i> Desculpe! Houve um erro ao tentar obter suas listas.</p>')}})}},inviteSendEmail:function(){if($(document.body).is(".giftlist-invite")){var a="",b="";$(".qd-social-whatsapp").parent().hide();/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$(".qd-social-whatsapp").parent().show();var c=null;$.ajax({url:"//api.ipify.org?format=jsonp",dataType:"jsonp",success:function(a){c=
a.ip},error:function(){$.ajax({url:"//www.telize.com/jsonip",dataType:"jsonp",success:function(a){c=a.ip}})}});var d=function(a){return $.ajax({url:"//api.vtexcrm.com.br/araujo/dataentities/LC/documents",type:"POST",dataType:"json",headers:{Accept:"json","Content-Type":"application/json; charset=utf-8"},data:JSON.stringify(a),success:function(a){b=a.Id.replace("LC-","")}})},f=function(b,d){var g=$(".qd-invite-lists .list-link option:selected");a=$(".gf-invite-block-3-models-invite .active-model").html()||
"";return{ip:c,email:b,user:d,message:a,listName:g.text(),listId:g.attr("data-qd-list-id")||null,listIco:$(".gf-invite-img-model.active-model img:first").attr("src")||null}},k=function(a){$.getJSON("/no-cache/profileSystem/getProfile").done(function(b){$.ajax({url:"//api.vtexcrm.com.br/araujo/dataentities/CL/search?userId="+b.UserId+"&_fields=id",dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},error:function(){alert("Desculpe! N\u00e3o foi poss\u00edvel enviar seu formul\u00e1rio!")}}).done(function(b){a(b[0].id)})}).fail(function(){alert("Desculpe! N\u00e3o foi poss\u00edvel compartilhar sua lista!")})};
$(".qd-social-facebook, .qd-social-whatsapp").click(function(c){c.preventDefault();var g=$(this);if(($(".qd-invite-lists .list-link").val()||"").length){var e=function(){g.is(".qd-social-facebook")?window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent("http://chadebebe.araujo.com.br/convite/"+b),"fbShareWindow","height=300, width=400, top="+($(window).height()/2-275)+", left="+($(window).width()/2-225)+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0"):window.open("whatsapp://send?text="+
encodeURIComponent("http://chadebebe.araujo.com.br/convite/"+b),"whatsappShareWindow")};a!=($(".gf-invite-block-3-models-invite .active-model").html()||"")?k(function(a){d(f(null,a)).done(e).fail(function(){alert("Desculpe, n\u00e3o foi poss\u00edvel compartilhar sua lista!")})}):e()}else alert("Selecione o Link da lista.")});var h=$(".modal");$(".qd-social-email").click(function(b){b.preventDefault();if(($(".qd-invite-lists .list-link").val()||"").length){b=h.find(".modal-header");b.children(":not(button)").remove();
b.prepend('<h4 class="pull-left">Para quem deseja enviar?</h4>');h.modal();h.addClass("qd-invite-modal");var c=$('<div class="qd-send-invite"></div>').appendTo(h.find(".modal-body").empty());c.html("<p>Insira os e-mails (separe com v\u00edrgula ou espa\u00e7o):</p>");var e=$("<textarea></textarea>").appendTo(c).tagEditor({delimiter:" ,;"});$('<button class="btn">Enviar convite</button>').click(function(){var b=(e.val()||"").match(/([a-zA-Z0-9._\-\+])+@([a-z0-9._\-\+])+\.[a-z]{2,6}/g).join(",");if(!b.length)return alert("Preencha seu e-mail");
c.addClass("qd-invite-loading");k(function(e){var g=a!=($(".gf-invite-block-3-models-invite .active-model").html()||"");e=f(b,e);g&&d(e);$.ajax({url:"https://ssl-202418.kinghost.net/send-invite-cha-de-bebe/general_email.php",type:"POST",dataType:"json",data:e,success:function(){c.find(".form-succes").removeClass("hide")},complete:function(){c.removeClass("qd-invite-loading")}})})}).appendTo(c);$('<div class="form-succes green-alert hide"> <i class="fa fa-check-circle-o padding-r-sm font-size-sm"></i>Email enviado com sucesso </div>').appendTo(c)}else alert("Selecione o Link da lista.")})}},
getGiftListBalance:function(){var a=$("#showorders-popup").first().attr("href")||"";if(a.length){var b=[];$.ajax({url:a,dataType:"html",success:function(a){$(a).find(".order-info-list >li").each(function(){var a=($(this).attr("id")||"").replace("oid-","");a.length&&b.push(a)});b.length&&$.ajax({url:"https://ssl-202418.kinghost.net/orders-sum/orders-sum.php?orders="+b.join(","),dataType:"json",success:function(a){List.giftListBalance="R$ "+qd_number_format(a.sumOrders/100,2,",",".")}})},error:function(){alert("Desculpe, n\u00e3o foi poss\u00edvel consultar seu saldo no momento!")}})}},
getGiftBalance:function(){$.qdAjax({url:"/no-cache/profileSystem/getProfile",dataType:"json",clearQueueDelay:null,success:function(a){try{if(!a.IsUserDefined)return alert("Voc\u00ea precisa se logar para ver o saldo do vale.");$.ajax({url:"https://ssl-202418.kinghost.net/gift-card/gift-card.php?customerId="+a.UserId,dataType:"json",success:function(a){try{for(var b=0,d=0;d<a.items.length;d++)b+=a.items[d].balance;List.giftBalance="R$ "+qd_number_format(b/100,2,",",".")}catch(f){"undefined"!==typeof console&&
"function"===typeof console.error&&console.error("Problemas :( . Detalhes: ",f)}},error:function(){alert("Desculpe, infelizmente n\u00e3o foi poss\u00edvel consultar seu saldo no momento!")}})}catch(b){"undefined"!==typeof console&&"function"===typeof console.error&&console.error("Problemas :( . Detalhes: ",b)}},error:function(){alert("Desculpe, n\u00e3o foi poss\u00edvel consultar seu saldo no momento!")}})},changeReadyListTitle:function(){$(document.body).is(".giftlist-shelf")&&$(".giftlistinfo-title").text($(".giftlistinfo-description").remove().text())},
giftlistReadySetId:function(){var a=(location.search.match(/qdlistid=([0-9]+)/i)||[""]).pop();a.length&&$(document.body).is(".giftlist-ready")&&$('a[href^="/list/"]').each(function(){this.hash=this.hash+"&qdlistid="+a})},formEnhancedValidation:function(){var a=window.validationForm,b=$("#addresscomponent");window.validationForm=function(){a.apply(this,arguments);var c=!0,d=b.find(".postal-code");b.find(".save-address").is(".giftlisterror")?(c=!1,d.addClass("giftlisterror")):d.removeClass("giftlisterror");
return c}}};try{(function(){var a;var b=function(){a.is(".giftlist")&&List.windowOnload()};var c=function(){a.is(".giftlist")&&List.ajaxStop()};$(function(){a=$(document.body);a.is(".giftlist")&&List.init();$(document).ajaxStop(c);$(window).load(b);a.addClass("jsFullLoadedGiftList")});List.run()})()}catch(a){"undefined"!==typeof console&&"function"===typeof console.error&&$("body").addClass("jsFullLoaded jsFullLoadedError")&&console.error("Houve um erro ao iniciar os objetos. Detalhes: "+a.message)};